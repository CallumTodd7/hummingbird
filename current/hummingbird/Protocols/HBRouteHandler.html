<!DOCTYPE html>
<html lang="en">
  <head>
    <title>HBRouteHandler Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/HBRouteHandler" class="dashAnchor"></a>
    <a title="HBRouteHandler Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html"> 0.14.2 Docs</a> (84% documented)</p>
        <p class="header-right"><a href="https://github.com/hummingbird-project/hummingbird"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html"> Reference</a>
        <img id="carat" src="../img/carat.png" />
        HBRouteHandler Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../encoding-and-decoding.html">Encoding and Decoding</a>
              </li>
              <li class="nav-group-task">
                <a href="../error-handling.html">Error Handling</a>
              </li>
              <li class="nav-group-task">
                <a href="../extending-hummingbird.html">Extending Hummingbird</a>
              </li>
              <li class="nav-group-task">
                <a href="../jobs.html">Jobs</a>
              </li>
              <li class="nav-group-task">
                <a href="../middleware.html">Middleware</a>
              </li>
              <li class="nav-group-task">
                <a href="../persistent-data.html">Persistent Data</a>
              </li>
              <li class="nav-group-task">
                <a href="../router.html">Router</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/HBApplication.html">HBApplication</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBApplication/Configuration.html">– Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBApplication/EventLoopStorage.html">– EventLoopStorage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBApplication/EventLoopStorageMap.html">– EventLoopStorageMap</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBApplication/HTTPResponder.html">– HTTPResponder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBApplication.html#/s:11Hummingbird13HBApplicationC21ChannelRequestContextV">– ChannelRequestContext</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBApplication/Persist.html">– Persist</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBDateCache.html">HBDateCache</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/HBMiddlewareGroup.html">HBMiddlewareGroup</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/ByteBuffer.html">ByteBuffer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Dictionary.html">Dictionary</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/EventLoopGroup.html">EventLoopGroup</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/HTTPHeaders.html">HTTPHeaders</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/HTTPResponseStatus.html">HTTPResponseStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Logger.html">Logger</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Set.html">Set</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Unicode.html">Unicode</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Unicode/Scalar.html">– Scalar</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/HBExtensible.html">HBExtensible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBMiddleware.html">HBMiddleware</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBPersistDriver.html">HBPersistDriver</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBRequestContext.html">HBRequestContext</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBRequestDecodable.html">HBRequestDecodable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBRequestDecoder.html">HBRequestDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBResponder.html">HBResponder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:11Hummingbird17HBResponseCodableP">HBResponseCodable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBResponseEncodable.html">HBResponseEncodable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBResponseEncoder.html">HBResponseEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBResponseGenerator.html">HBResponseGenerator</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBRouteHandler.html">HBRouteHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBRouter.html">HBRouter</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/HBRouterMethods.html">HBRouterMethods</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/HBCORSMiddleware.html">HBCORSMiddleware</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBCORSMiddleware/AllowOrigin.html">– AllowOrigin</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBCallbackResponder.html">HBCallbackResponder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBEnvironment.html">HBEnvironment</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBExtensions.html">HBExtensions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBLogRequestsMiddleware.html">HBLogRequestsMiddleware</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBMediaType.html">HBMediaType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBMediaType/Category.html">– Category</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBMetricsMiddleware.html">HBMetricsMiddleware</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBParameters.html">HBParameters</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBParser.html">HBParser</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBParser/Error.html">– Error</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBParser/Iterator.html">– Iterator</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBPersistDriverFactory.html">HBPersistDriverFactory</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBPersistError.html">HBPersistError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBRequest.html">HBRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBRequest/ResponsePatch.html">– ResponsePatch</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBRequest/Persist.html">– Persist</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBResponse.html">HBResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBRouterGroup.html">HBRouterGroup</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBRouterMethodOptions.html">HBRouterMethodOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBURL.html">HBURL</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HBURL/Scheme.html">– Scheme</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/HTTPHeadersPatch.html">HTTPHeadersPatch</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>HBRouteHandler</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">HBRouteHandler</span></code></pre>

                </div>
              </div>
            <p>Object for handling requests.</p>

<p>Instead of passing a closure to the router you can provide an object it should try and
create before handling the request. This allows you to separate the extraction of data
from the request and the processing of the request. For example</p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">UpdateReminder</span><span class="p">:</span> <span class="kt">HBRouteHandler</span> <span class="p">{</span>
    <span class="kd">struct</span> <span class="kt">Request</span><span class="p">:</span> <span class="kt">Codable</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span>
        <span class="k">let</span> <span class="nv">date</span><span class="p">:</span> <span class="kt">Date</span>
    <span class="p">}</span>
    <span class="k">let</span> <span class="nv">update</span><span class="p">:</span> <span class="kt">Request</span>
    <span class="k">let</span> <span class="nv">id</span><span class="p">:</span> <span class="kt">String</span>

    <span class="nf">init</span><span class="p">(</span><span class="n">from</span> <span class="nv">request</span><span class="p">:</span> <span class="kt">HBRequest</span><span class="p">)</span> <span class="k">throws</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">update</span> <span class="o">=</span> <span class="k">try</span> <span class="n">request</span><span class="o">.</span><span class="nf">decode</span><span class="p">(</span><span class="nv">as</span><span class="p">:</span> <span class="kt">Request</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="k">try</span> <span class="n">request</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="nf">require</span><span class="p">(</span><span class="s">"id"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">func</span> <span class="nf">handle</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="kt">HBRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">HTTPResponseStatus</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">reminder</span> <span class="o">=</span> <span class="kt">Reminder</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="n">id</span><span class="p">,</span> <span class="nv">update</span><span class="p">:</span> <span class="n">update</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">reminder</span><span class="o">.</span><span class="nf">update</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
            <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="o">.</span><span class="n">ok</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11Hummingbird14HBRouteHandlerP7_OutputQa"></a>
                    <a name="//apple_ref/swift/Alias/_Output" class="dashAnchor"></a>
                    <a class="token" href="#/s:11Hummingbird14HBRouteHandlerP7_OutputQa">_Output</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Undocumented</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">associatedtype</span> <span class="n">_Output</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11Hummingbird14HBRouteHandlerP4fromxAA9HBRequestV_tKcfc"></a>
                    <a name="//apple_ref/swift/Method/init(from:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11Hummingbird14HBRouteHandlerP4fromxAA9HBRequestV_tKcfc">init(from:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Undocumented</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="nf">init</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="kt"><a href="../Structs/HBRequest.html">HBRequest</a></span><span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11Hummingbird14HBRouteHandlerP6handle7request7_OutputQzAA9HBRequestV_tKF"></a>
                    <a name="//apple_ref/swift/Method/handle(request:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11Hummingbird14HBRouteHandlerP6handle7request7_OutputQzAA9HBRequestV_tKF">handle(request:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Undocumented</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">handle</span><span class="p">(</span><span class="nv">request</span><span class="p">:</span> <span class="kt"><a href="../Structs/HBRequest.html">HBRequest</a></span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="n"><a href="../Protocols/HBRouteHandler.html#/s:11Hummingbird14HBRouteHandlerP7_OutputQa">_Output</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="https://github.com/adam-fowler" target="_blank" rel="external">Adam Fowler</a>. All rights reserved. (Last updated: 2021-10-22)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
